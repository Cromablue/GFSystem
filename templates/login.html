{% extends 'base.html' %}
{% block title %}Login{% endblock %}
{% block content %}
<div class="container-fluid h-100 mt-0 justify-content-top">
    <div class="row h-100">
        <div class="col-md-6 d-flex flex-column justify-content-center align-items-center p-5 {{ theme_class }}">
            <h1 class="mb-4">Bem Vindo</h1>
            <p>
                Entre e gerencie suas faltas e anotações
            </p>
        </div>
        <div class="col-md-6 d-flex flex-column justify-content-center">
            <h1 class="text-center mb-4 {{ text_class }}">Login</h1>
            <form method="POST" class="w-75 mx-auto">
                {% csrf_token %}
                <!-- Campo de Usuário -->
                <div class="mb-3">
                    <label for="id_username" class="form-label">Usuário</label>
                    <input 
                        type="text" 
                        id="id_username" 
                        name="username" 
                        class="form-control" 
                        placeholder="Digite seu nome de usuário" 
                        required>
                    <div class="invalid-feedback">
                        Por favor, preencha o nome de usuário.
                    </div>
                </div>

                <!-- Campo de Senha -->
                <div class="mb-3">
                    <label for="id_password" class="form-label">Senha</label>
                    <input 
                        type="password" 
                        id="id_password" 
                        name="password" 
                        class="form-control" 
                        placeholder="Digite sua senha" 
                        required>
                    <div class="invalid-feedback">
                        Por favor, insira sua senha.
                    </div>
                </div>

                <!-- Botão de Login -->
                <button type="submit" class="btn btn-success w-100">Login</button>
            </form>
            <div class="w-75 mx-auto">
                <!-- Link para Cadastro -->
                <p class="mt-3 text-center">
                    Ainda não tem uma conta? 
                    <a href="{% url 'cadastro' %}" class="btn btn-primary btn-sm transition-all w-100">Cadastrar-se</a>
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Erro -->
<div id="errorModal" class="modal fade" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="errorModalLabel">Erro</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p id="errorMessage"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
            </div>
        </div>
    </div>
</div>

{% if error_message %}
    <div id="error-data" data-error="{{ error_message }}"></div>
{% endif %}

{% endblock %}
